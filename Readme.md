# Скрипт для отображения списка файлов в Obsidian

![screenshot](Pasted%20image%2020240908164931.png)

Этот скрипт предназначен для использования в Obsidian и создает интерактивный список файлов с возможностью сортировки, фильтрации и пагинации. Он отображает информацию о файлах, включая их размер, дату изменения и количество слов, а также визуализирует эти данные с помощью цветных полос.

## Возможности

- Сортировка файлов по имени, размеру, дате изменения и количеству слов
- Фильтрация файлов по имени
- Пагинация с настраиваемым количеством элементов на странице
- Визуализация размера файла и количества слов с помощью цветных полос
- Отображение подробной информации о каждом файле

## Установка

- Убедитесь, что у вас установлен плагин Dataview в Obsidian.
- Создайте новую заметку в вашем хранилище Obsidian.
- Скопируйте весь код скрипта в эту заметку.
- Сохраните заметку с расширением .md (например, file_list.md).

## Использование

- Откройте созданную заметку в Obsidian.
- Скрипт автоматически запустится и отобразит список файлов в вашем хранилище.
- Используйте элементы управления для взаимодействия со списком:
- Поле "Фильтр по имени" для поиска файлов
- Выпадающий список для выбора количества элементов на странице
- Кнопки "Предыдущая" и "Следующая" для навигации по страницам
- Заголовки столбцов для изменения сортировки

## Подробное описание функциональности

### Сортировка

- Нажмите на заголовок любого столбца для сортировки по соответствующему полю.
- Повторное нажатие изменяет порядок сортировки (по возрастанию/убыванию).
- Текущее поле и порядок сортировки отображаются стрелкой рядом с заголовком столбца.

### Фильтрация

- Введите текст в поле "Фильтр по имени" для поиска файлов по их названию.
- Фильтрация применяется в реальном времени при вводе текста.

### Пагинация

- Выберите количество элементов на странице из выпадающего списка (10, 25, 50 или 100).
- Используйте кнопки "Предыдущая" и "Следующая" для перемещения между страницами.
- Текущая страница и общее количество страниц отображаются между кнопками навигации.

### Визуализация данных

- Размер файла и количество слов отображаются в виде цветных полос.
- Цвет полосы изменяется от зеленого к красному в зависимости от значения:
- Зеленый: меньшие значения
- Красный: большие значения
- Ширина полосы соответствует относительному размеру файла.
- Текст внутри полосы показывает точное количество слов.

### Информация о файлах

- Имя файла: отображается как ссылка, при нажатии открывает файл
- Размер файла: показан в удобочитаемом формате (B, KB, MB, GB)
- Дата изменения: отображается в формате ДД.ММ.ГГГГ ЧЧ:ММ
- Количество слов: показано внутри цветной полосы

## Настройка

Для настройки внешнего вида или функциональности скрипта вы можете изменить следующие части кода:
- CSS-стили в начале скрипта для изменения внешнего вида элементов
- Массив [10, 25, 50, 100] для изменения вариантов количества элементов на странице
- Функцию formatFileSize для изменения форматирования размера файла
- Функцию formatDate для изменения формата отображения даты
- Функцию getGradientColor для настройки цветовой схемы полос

## Требования

- Obsidian (https://obsidian.md/)
- Плагин Dataview для Obsidian (https://github.com/blacksmithgu/obsidian-dataview)

## Ограничения

- Скрипт работает только внутри Obsidian с установленным плагином Dataview.
- Производительность может снижаться при работе с очень большими хранилищами файлов.
- Скрипт загружает содержимое всех файлов для подсчета слов, что может занять некоторое время при первом запуске.

## Вклад в развитие

Если у вас есть предложения по улучшению скрипта или вы нашли ошибку, пожалуйста, создайте issue или pull request в репозитории проекта.

## Лицензия

Этот скрипт распространяется под лицензией MIT. Подробности смотрите в файле LICENSE.
